<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: url('../public/Images/activities-image4.jpg') no-repeat center center fixed;
            background-size: cover;
        }

        .profile-container {
            max-width: 800px;
            margin: 50px auto;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .profile-header {
            display: flex;
            align-items: center;
            border-bottom: 2px solid #ddd;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .user-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-right: 20px;
            border: 2px solid #ddd;
        }

        .user-details,
        .overview {
            margin-bottom: 20px;
        }

        .user-details h2,
        .overview h2 {
            margin-bottom: 10px;
            color: #333;
        }

        .user-details p {
            margin: 10px 0;
            color: #555;
        }

        .overview-item {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            text-align: center;
        }

        input[type="text"],
        input[type="number"],
        input[type="email"] {
            width: calc(100% - 22px);
            padding: 10px;
            margin: 5px 0 15px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .overview {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .submit-btn {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .submit-btn:hover {
            background-color: #45a049;
        }
    </style>
</head>

<body>
    <div class="profile-container">
        <header class="profile-header">
            <img src="/Images/be-active.gif alt=" animated user" class="user-icon">
            <h1>User Profile</h1>
        </header>

        <section class="user-details">
            <form action="show" method="get">
                <input type="hidden" value="<%=data.email%>" name="email">
                <label for="inputEmail" class="">Name</label>
            </form>
        </section>

        <section class="overview">
            <h2>Overview</h2>
            <div class="overview-item" id="calories-burnt">
                <h3>Calories Burnt</h3>
                <p></p>
            </div>
            <div class="overview-item" id="total-steps">
                <h3>Total Steps</h3>
                <p></p>
            </div>
            <div class="overview-item" id="workouts-completed">
                <h3>Workouts Completed</h3>
                <p></p>
            </div>
            <div class="overview-item" id="distance-traveled">
                <h3>Distance Traveled</h3>
                <p></p>
            </div>
        </section>
    </div>

    <script>
        // // Example JavaScript for handling form submission and saving data
        // document.querySelector('.submit-btn').addEventListener('click', function () {
        //     const name = document.getElementById('user-name').value;
        //     const email = document.getElementById('user-email').value;
        //     const age = document.getElementById('user-age').value;
        //     const height = document.getElementById('user-height').value;
        //     const weight = document.getElementById('user-weight').value;

        //     // Implement the save functionality here
        //     console.log('User details saved:', { name, email, age, height, weight });
        // });

        async function fetchUsers() {
            try {
                const response = await fetch('http://localhost:5000/api/user');
                const user = await response.json();
                const tableBody = document.getElementById('user-table').getElementsByTagName('tbody')[0];
                user.forEach(user => {
                    const row = document.createElement('tr');
                    const FirstNameCell = document.createElement('td');
                    const LastNameCell = document.createElement('td');
                    const EmailCell = document.createElement('td');
                    // const LastNameCell = document.createElement('td');
                    // const LastNameCell = document.createElement('td');
                    // const LastNameCell = document.createElement('td');
                    FirstNameCell.textContent = user.FirstName;
                    LastNameCell.textContent = user.LastName;
                    EmailCell.textContent = user.Email;
                    row.appendChild(FirstNameCell);
                    row.appendChild(LastNameCell);
                    row.appendChild(EmailCell);
                    tableBody.appendChild(row);
                });
            } catch (err) {
                console.error('Error fetching users:', err);
            }
        }

        fetchuapp.use(cors()); ser();
    </script>
</body>

</html>